{"version":3,"sources":["file:///C:/Users/Killa/Snake%20Match/assets/Scripts/SnakeController.ts"],"names":["_decorator","Component","RigidBody2D","Vec2","KeyCode","input","Input","ccclass","SnakeController","character","firstMove","velocity","snakeInside","onLoad","node","getComponent","linearVelocity","on","EventType","KEY_DOWN","onKeyDown","onDestroy","off","event","console","log","x","keyCode","KEY_W","onMove","KEY_S","y","KEY_A","KEY_D","setPosition","Math","round","position","eatBall","ball"],"mappings":"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","sourcesContent":["import { _decorator, Component, RigidBody2D, Vec2, KeyCode, input, EventKeyboard, Input } from \"cc\";\nconst { ccclass } = _decorator;\n\ntype Balls = \"green\" | \"blue\" | \"red\" | \"yellow\";\n\n@ccclass(\"SnakeController\")\nexport class SnakeController extends Component {\n\tprivate character: RigidBody2D = null;\n\n\tprivate firstMove: boolean = true;\n\n\tprivate velocity: number = 5;\n\n\tprivate snakeInside: Array<Balls> = [];\n\n\tpublic onLoad(): void {\n\t\tthis.character = this.node.getComponent(RigidBody2D);\n\n\t\tthis.character.linearVelocity = new Vec2(0, 0);\n\n\t\tinput.on(Input.EventType.KEY_DOWN, this.onKeyDown, this);\n\t}\n\n\tpublic onDestroy(): void {\n\t\tinput.off(Input.EventType.KEY_DOWN, this.onKeyDown, this);\n\t}\n\n\tprivate onKeyDown(event: EventKeyboard): void {\n\t\tconsole.log(this.character.linearVelocity);\n\n\t\tif (this.character.linearVelocity.x != 0 || this.firstMove) {\n\t\t\tswitch (event.keyCode) {\n\t\t\t\tcase KeyCode.KEY_W:\n\t\t\t\t\tthis.character.linearVelocity = new Vec2(0, this.velocity);\n\t\t\t\t\tthis.onMove();\n\t\t\t\t\tconsole.log(\"w\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase KeyCode.KEY_S:\n\t\t\t\t\tthis.character.linearVelocity = new Vec2(0, -this.velocity);\n\t\t\t\t\tthis.onMove();\n\t\t\t\t\tconsole.log(\"s\");\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t} else if (this.character.linearVelocity.y != 0 || this.firstMove) {\n\t\t\tswitch (event.keyCode) {\n\t\t\t\tcase KeyCode.KEY_A:\n\t\t\t\t\tthis.onMove();\n\t\t\t\t\tconsole.log(\"a\");\n\t\t\t\t\tthis.character.linearVelocity = new Vec2(-this.velocity, 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase KeyCode.KEY_D:\n\t\t\t\t\tthis.character.linearVelocity = new Vec2(this.velocity, 0);\n\t\t\t\t\tthis.onMove();\n\t\t\t\t\tconsole.log(\"d\");\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate onMove(): void {\n\t\tthis.firstMove = false;\n\t\tthis.node.setPosition(Math.round(this.node.position.x / 30) * 30, Math.round(this.node.position.y / 30) * 30);\n\t}\n\n\tprivate eatBall(ball: Balls): void {}\n}\n"]}